<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>SM.misc API documentation</title>
<meta name="description" content="The file has been build for miscellaneous functions" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>SM.misc</code></h1>
</header>
<section id="section-intro">
<p>The file has been build for miscellaneous functions</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# ======================================================================
# Created by : Mohit Anand
# Created on : On Sat Jan 16 2021 at 15:02:21
# ======================================================================
# __author__ = Mohit Anand
# __copyright__ = Copyright (c) 2021, Mohit Anand, Soil Moisture Project
# __credits__ = [Mohit Anand, Timo Houben]
# __license__ = MIT
# __version__ = 0.0.1
# __maintainer__ = Mohit Anand
# __email__ = mohit.anand@ufz.de
# __status__ = development
# ======================================================================
&#39;&#39;&#39; The file has been build for miscellaneous functions &#39;&#39;&#39;
#

#from SM.cfg import models_path, figures_path, results_path
import numpy as np
import shutil
import os
import fnmatch


def platform_release():
    &#34;&#34;&#34;
    Returns platform release number.
    This needs to be updated manually if the release changes. This is not unique
    for EVE and can have same return if executed on another system with same
    release number.

    Returns
    -------
    string
        &#39;eve&#39; if running on UFZ EVE
        &#39;other&#39; if running on other systems
    &#34;&#34;&#34;
    import platform
    if platform.release() == &#34;3.10.0-1127.18.2.el7.x86_64&#34;:
        return &#39;eve&#39;
    else:
        return &#39;local&#39;


def mean_error(y_true=0, y_pred=0):
    error = y_pred - y_true
    return np.mean(error)

## Need to change this a bit
def clear_results(name, method):
    &#34;&#34;&#34; 
    Deletes all model output in current working directory.
    Execute from run script. 
    
    Parameters:
    -----------
    None

    Returns
    -------
    None
    
    &#34;&#34;&#34;
    model_name_method_path = os.path.join(models_path, name, method)
    figure_name_method_path = os.path.join(figures_path, name, method)
    results_list = os.listdir(results_path)

    for each_file in results_list:
        if fnmatch.fnmatch(each_file, name+&#39;_&#39;+method+&#39;.csv&#39;):
                file_name = each_file
    file_name = None
    sure = input(&#34;You are about to delete all files in the following folder \n&#34; +
        f&#34;1. {model_name_method_path} \n&#34; + 
        f&#34;2. {figure_name_method_path}\n&#34; + 
        &#34;Additionally you will also delete \n&#34;  + 
        f&#34;3. {file_name} in the results folder \n&#34; +
        &#34;Type &#39;yes&#39; or &#39;no&#39; \n&#34;) 

    if sure == &#34;yes&#34;:
        shutil.rmtree(model_name_method_path)
        shutil.rmtree(figure_name_method_path)
        os.remove(os.path.join(results_path, name+&#34;_&#34;+method+&#39;.csv&#39;))
        print(&#34;Results deleted.&#34;)
    else:
        print(&#34;Aborted.&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="SM.misc.clear_results"><code class="name flex">
<span>def <span class="ident">clear_results</span></span>(<span>name, method)</span>
</code></dt>
<dd>
<div class="desc"><p>Deletes all model output in current working directory.
Execute from run script. </p>
<h2 id="parameters">Parameters:</h2>
<p>None</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clear_results(name, method):
    &#34;&#34;&#34; 
    Deletes all model output in current working directory.
    Execute from run script. 
    
    Parameters:
    -----------
    None

    Returns
    -------
    None
    
    &#34;&#34;&#34;
    model_name_method_path = os.path.join(models_path, name, method)
    figure_name_method_path = os.path.join(figures_path, name, method)
    results_list = os.listdir(results_path)

    for each_file in results_list:
        if fnmatch.fnmatch(each_file, name+&#39;_&#39;+method+&#39;.csv&#39;):
                file_name = each_file
    file_name = None
    sure = input(&#34;You are about to delete all files in the following folder \n&#34; +
        f&#34;1. {model_name_method_path} \n&#34; + 
        f&#34;2. {figure_name_method_path}\n&#34; + 
        &#34;Additionally you will also delete \n&#34;  + 
        f&#34;3. {file_name} in the results folder \n&#34; +
        &#34;Type &#39;yes&#39; or &#39;no&#39; \n&#34;) 

    if sure == &#34;yes&#34;:
        shutil.rmtree(model_name_method_path)
        shutil.rmtree(figure_name_method_path)
        os.remove(os.path.join(results_path, name+&#34;_&#34;+method+&#39;.csv&#39;))
        print(&#34;Results deleted.&#34;)
    else:
        print(&#34;Aborted.&#34;)</code></pre>
</details>
</dd>
<dt id="SM.misc.mean_error"><code class="name flex">
<span>def <span class="ident">mean_error</span></span>(<span>y_true=0, y_pred=0)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mean_error(y_true=0, y_pred=0):
    error = y_pred - y_true
    return np.mean(error)</code></pre>
</details>
</dd>
<dt id="SM.misc.platform_release"><code class="name flex">
<span>def <span class="ident">platform_release</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns platform release number.
This needs to be updated manually if the release changes. This is not unique
for EVE and can have same return if executed on another system with same
release number.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string</code></dt>
<dd>'eve' if running on UFZ EVE
'other' if running on other systems</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def platform_release():
    &#34;&#34;&#34;
    Returns platform release number.
    This needs to be updated manually if the release changes. This is not unique
    for EVE and can have same return if executed on another system with same
    release number.

    Returns
    -------
    string
        &#39;eve&#39; if running on UFZ EVE
        &#39;other&#39; if running on other systems
    &#34;&#34;&#34;
    import platform
    if platform.release() == &#34;3.10.0-1127.18.2.el7.x86_64&#34;:
        return &#39;eve&#39;
    else:
        return &#39;local&#39;</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="SM" href="index.html">SM</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="SM.misc.clear_results" href="#SM.misc.clear_results">clear_results</a></code></li>
<li><code><a title="SM.misc.mean_error" href="#SM.misc.mean_error">mean_error</a></code></li>
<li><code><a title="SM.misc.platform_release" href="#SM.misc.platform_release">platform_release</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>